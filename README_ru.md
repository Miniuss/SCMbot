# SCMbot
Бот на русском языке с открытым исходным кодом с возможностью управлять формами и хранить информацию о них

> [!CAUTION]
> Этот бот был предназначен для работы лишь в 1 сервере. Использование его в нескольких серверах может вызвать проблемы.

## Возможности
- Редактор Дискорд форм
- Хранение данных о формах в SQLite базе данных
- Настраиваемый, с логами


## Зависимости
Все зависимости написанны в [requirements.txt](requirements.txt)


## Как настроить
Этот параграф объясняет, что какой параметр в config.cfg делает.

### [Login]
- **token:** Токен бота. Необходим для возможности боту залогинится в Дискорд. \
  Пример: `token=MY_TOKEN`

### [Perms]
- **admin_roles:** Список ИД ролей, которые бот будет воспринимать как за администраторов. Администраторы имеют доступ к специальным командам. Список разделён с помощью `,` \
  Пример: `admin_roles=129528543536,219391248849`

- **no_form_roles:** Список ИД ролей, которым бот не позволит заполнять форму. Список разделён с помощью `,` \
  Пример: `no_form_roles=1249285259643,32429534563,34698459064`

### [Form]
- **msg_channel:** ИД канала, куда бот будет отправлять сообщение с формой. \
  Пример: `msg_channel=158258349063`

- **submit_channel:** ИД канала, куда бот будет отправлять результаты заполнения участником формы. \
  Пример: `submit_channel=25934560645`


## Доступные команды

### Базовые
- **/ping:** Отоброжает пинг бота в чате (временное сообщение)

- **/logs [ТОЛЬКО ВЛАДЕЛЕЦ]:** Отправляет в чат файл `logs.log` (временное сообщение)

- **/shutdown [ТОЛЬКО ВЛАДЕЛЕЦ]:** Выключает бота

### Формы
- **/form update [ТОЛЬКО АДМИНЫ]:** Обновляет или отправляет сообщение с формой, настроенное файлом `form.json`

- **/form set [ТОЛЬКО АДМИНЫ]:** Обновляет файл `form.json` судя по аргументам.
    - title \<str\>: Заголовок вложения
    - text \<str\>: Описание вложения
    - color \<str\>: HEX цвет вложения
    - image \<discord.Attachment\>: Изображение, которое будет отображено в самом верхнем вложении

- **/form view [ТОЛЬКО АДМИНЫ]:** Ищет форму судя по аргументам команды, затем отображает данные о ней
    - form_id \<str\> -> \<int\>: Целочисленный ИД формы (превращается в int)
    - user_id \<str\> -> \<int\>: Целочисленный ИД пользователя, кому пренадлежит форма

- **/form delete [ТОЛЬКО АДМИНЫ]:** Ищет форму судя по аргументам команды, затем удаляет данные о ней
    - form_id \<str\> -> \<int\>: Целочисленный ИД формы (превращается в int)
    - user_id \<str\> -> \<int\>: Целочисленный ИД пользователя, кому пренадлежит форма

# Лицензия
Данный проект лицензирован под MIT. [Прочитайте о лицензии здесь](LICENSE)
